<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">

<style>
  body{
    font-family: DejaVu Sans;
    font-size:11px;
    color:#1f2937;
    margin:0;
  }

  /* ===== TOP BRAND BAR ===== */
  .brand-bar{
    background:linear-gradient(90deg,#facc15,#f59e0b);
    height:8px;
  }

  /* ===== HEADER ===== */
  .header{
    text-align:center;
    padding:14px 0 10px;
    border-bottom:2px solid #facc15;
  }

  .header h1{
    margin:0;
    font-size:22px;
    color:#92400e;
    font-weight:900;
    letter-spacing:1px;
  }

  .header .sub{
    font-size:10px;
    color:#6b7280;
    margin-top:4px;
  }

  /* ===== META CARD ===== */
  .meta{
    margin:12px 0;
    padding:10px 14px;
    background:#fffbea;
    border:1px solid #facc15;
    border-radius:8px;
    display:flex;
    justify-content:space-between;
    font-size:10px;
  }

  /* ===== SUMMARY STRIP ===== */
  .summary-strip{
    margin:10px 0 16px;
    padding:10px;
    background:linear-gradient(180deg,#fffbea,#fef3c7);
    border:1px solid #fde68a;
    border-radius:8px;
    font-weight:900;
    text-align:right;
    color:#92400e;
  }

  /* ===== SECTION TITLE ===== */
  h3{
    margin:18px 0 6px;
    font-size:13px;
    color:#92400e;
    border-left:6px solid #facc15;
    padding-left:8px;
    font-weight:900;
  }

  /* ===== TABLE ===== */
  table{
    width:100%;
    border-collapse:collapse;
    margin-top:6px;
    overflow:hidden;
  }

  th,td{
    border:1px solid #e5e7eb;
    padding:6px;
  }

  th{
    background:linear-gradient(180deg,#facc15,#f59e0b);
    color:#422006;
    font-size:10px;
    text-transform:uppercase;
    letter-spacing:.06em;
    text-align:center;
    font-weight:900;
  }

  tbody tr:nth-child(even){
    background:#fffdf5;
  }

  td{
    font-size:11px;
  }

  .right{ text-align:right; }

  .advance{
    color:#b91c1c;
    font-weight:800;
  }

  .total{
    color:#065f46;
    font-weight:900;
  }

  /* ===== GRAND TOTAL ===== */
  .grand-box{
    margin-top:18px;
    border:3px solid #facc15;
    background:linear-gradient(180deg,#fffbea,#fde68a);
    padding:14px;
    font-size:16px;
    font-weight:900;
    text-align:right;
    border-radius:10px;
    color:#7c2d12;
    box-shadow:0 10px 25px rgba(0,0,0,0.08);
  }

  /* ===== FOOTER ===== */
  .footer{
    margin-top:22px;
    padding-top:8px;
    border-top:2px solid #facc15;
    font-size:9px;
    text-align:right;
    color:#6b7280;
  }

  /* ===== WATERMARK (optional premium feel) ===== */
  .watermark{
    position:fixed;
    top:40%;
    left:20%;
    font-size:60px;
    color:#fef3c7;
    transform:rotate(-30deg);
    opacity:.25;
    z-index:-1;
  }
</style>
</head>

<body>



<div class="brand-bar"></div>

<!-- HEADER -->
<div class="header">
  <h1>SK BUILDERS</h1>
  <div class="sub">ALL BILLS SUMMARY REPORT</div>
</div>

<!-- META -->
<div class="meta">
  <div><b>From:</b> {{ from_date }}</div>
  <div><b>To:</b> {{ to_date }}</div>
</div>

<!-- ================= CIVIL ================= -->
<h3>Civil Teams</h3>
<table>
<thead>
<tr>
  <th>Team</th>
  <th>Advance</th>
  <th>Net Total</th>
</tr>
</thead>
<tbody>
{% for c in civil_rows %}
<tr>
  <td>{{ c.name }}</td>
  <td class="right advance">{{ c.advance|default:0 }}</td>
  <td class="right total">{{ c.total|default:0 }}</td>
</tr>
{% empty %}
<tr><td colspan="3" style="text-align:center;">No civil data</td></tr>
{% endfor %}
</tbody>
</table>

<!-- ================= DEPARTMENT ================= -->
<h3>Departments</h3>
<table>
<thead>
<tr>
  <th>Department</th>
  <th>Advance</th>
  <th>Net Total</th>
</tr>
</thead>
<tbody>
{% for d in dept_rows %}
<tr>
  <td>{{ d.department__name }}</td>
  <td class="right advance">{{ d.advance|default:0 }}</td>
  <td class="right total">{{ d.total|default:0 }}</td>
</tr>
{% empty %}
<tr><td colspan="3" style="text-align:center;">No department data</td></tr>
{% endfor %}
</tbody>
</table>

<!-- ================= MATERIAL ================= -->
<h3>Material / Agents</h3>
<table>
<thead>
<tr>
  <th>Agent</th>
  <th>Advance</th>
  <th>Net Total</th>
</tr>
</thead>
<tbody>
{% for m in material_rows %}
<tr>
  <td>{{ m.agent_name }}</td>
  <td class="right advance">{{ m.advance|default:0 }}</td>
  <td class="right total">{{ m.total|default:0 }}</td>
</tr>
{% empty %}
<tr><td colspan="3" style="text-align:center;">No material data</td></tr>
{% endfor %}
</tbody>
</table>

<!-- ================= GRAND TOTAL ================= -->
<div class="grand-box">
  GRAND TOTAL : {{ grand_total|default:0 }}
</div>

<!-- FOOTER -->
<div class="footer">
  Generated on {{ now|date:"d-m-Y H:i" }}
</div>

</body>
</html>