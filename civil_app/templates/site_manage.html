{% extends 'base.html' %}
{% block content %}

<div class="max-w-5xl mx-auto space-y-10 animate-page">

  <!-- ================= PAGE HEADER ================= -->
  <div class="space-y-1">
    <h2 class="text-3xl font-extrabold text-slate-900 flex items-center gap-2">
      üèó Manage Sites
    </h2>
    <p class="text-sm text-gray-500">
      Create, view and remove construction sites
    </p>
  </div>

  <!-- ================= ADD SITE ================= -->
  <section class="card space-y-4">

    <h3 class="section-title flex items-center gap-2">
      ‚ûï Add New Site
    </h3>

    <form method="post" class="flex flex-col sm:flex-row gap-3">
      {% csrf_token %}

      <input
        name="name"
        placeholder="Enter site name"
        required
        class="input flex-1"
      >

      <button class="btn-lemon">
        Add Site
      </button>
    </form>

  </section>

  <!-- ================= SITE LIST ================= -->
  <section class="card overflow-hidden">

    <div class="list-header">
      <h3 class="font-semibold text-slate-800 flex items-center gap-2">
        üìç Existing Sites
      </h3>
    </div>

    <ul class="divide-y">
      {% for s in sites %}
      <li class="list-row">
        <span class="font-semibold text-slate-800">
          {{ s.name }}
        </span>

        <a
          href="/delete-site/{{ s.id }}/"
          onclick="return confirm('Are you sure you want to delete this site?')"
          class="delete-btn">
          üóë Delete
        </a>
      </li>
      {% empty %}
      <li class="empty-row">
        No sites added yet
      </li>
      {% endfor %}
    </ul>

  </section>

</div>

<!-- ================= STYLES ================= -->
<style>
:root{
  --lemon:#facc15;
  --lemon-soft:#fff7cc;
  --lemon-dark:#ca8a04;
}

/* Page animation */
.animate-page{
  animation:fadeUp .35s ease-out;
}
@keyframes fadeUp{
  from{opacity:0;transform:translateY(14px)}
  to{opacity:1;transform:translateY(0)}
}

/* Cards */
.card{
  background:white;
  border:1px solid #e5e7eb;
  border-radius:1.5rem;
  padding:1.5rem;
  box-shadow:0 10px 25px rgba(0,0,0,.06);
  transition:.25s ease;
}
.card:hover{
  transform:translateY(-2px);
  box-shadow:0 18px 40px rgba(0,0,0,.08);
}

/* Titles */
.section-title{
  font-size:1.125rem;
  font-weight:800;
  color:#0f172a;
}

/* Inputs */
.input{
  border-radius:.9rem;
  padding:.75rem 1rem;
  font-size:.9rem;
  border:1px solid #d1d5db;
  transition:.2s ease;
}
.input:focus{
  outline:none;
  border-color:var(--lemon);
  box-shadow:0 0 0 3px rgba(250,204,21,.4);
}

/* Buttons */
.btn-lemon{
  background:linear-gradient(to right,#fde047,var(--lemon));
  color:#422006;
  font-weight:900;
  padding:.75rem 1.5rem;
  border-radius:.9rem;
  transition:.25s ease;
}
.btn-lemon:hover{
  transform:translateY(-2px);
  box-shadow:0 12px 25px rgba(0,0,0,.18);
}

/* List */
.list-header{
  background:#f8fafc;
  padding:1rem 1.25rem;
  border-bottom:1px solid #e5e7eb;
}

.list-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:1rem 1.25rem;
  transition:.2s ease;
}
.list-row:hover{
  background:var(--lemon-soft);
}

.delete-btn{
  color:#ef4444;
  font-size:.8rem;
  font-weight:800;
}
.delete-btn:hover{
  text-decoration:underline;
}

.empty-row{
  padding:2rem;
  text-align:center;
  color:#9ca3af;
  font-size:.9rem;
}
</style>

{% endblock %}
