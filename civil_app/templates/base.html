<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Civil Management</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }
  </style>
</head>

<body class="bg-gradient-to-br from-slate-100 via-slate-100 to-yellow-50
             min-h-screen flex flex-col">

  <!-- ================= HEADER ================= -->
  <header class="bg-slate-900 text-white px-6 py-4
                 flex items-center justify-between
                 shadow-xl relative overflow-hidden">

    <!-- Lemon glow -->
    <div class="absolute inset-0 bg-gradient-to-r
                from-yellow-400/10 via-transparent to-transparent"></div>

    <div class="relative flex items-center gap-3">
      <div class="bg-yellow-400 text-slate-900 p-2 rounded-xl shadow">
        ğŸ—
      </div>
      <div>
        <h1 class="font-extrabold text-lg leading-tight">
          Civil Management
        </h1>
        <p class="text-xs text-slate-300">
          Construction Control Panel
        </p>
      </div>
    </div>

    <div class="relative flex items-center gap-3">

  <!-- Login Button -->
  <div class="relative flex items-center gap-3">

  {% if user.is_authenticated %}

    <span class="text-sm text-slate-200 font-semibold">
      ğŸ‘‹ {{ user.username }}
    </span>

    <form method="post" action="{% url 'logout' %}">
  {% csrf_token %}
  <button type="submit"
          class="bg-red-500 hover:bg-red-600
                 text-white text-sm font-bold
                 px-4 py-1.5 rounded-full shadow transition">
    ğŸšª Logout
  </button>
</form>


  {% else %}

    <a href="{% url 'login' %}"
       class="bg-yellow-400 hover:bg-yellow-500
              text-slate-900 text-sm font-bold
              px-4 py-1.5 rounded-full
              shadow transition">
      ğŸ” Login
    </a>

  {% endif %}

</div>


  <!-- User Badge -->
  <div class="text-sm font-semibold
              bg-slate-800 px-4 py-1.5 rounded-full
              border border-slate-700">
    MK
  </div>

</div>

  </header>

  <!-- ================= NAVBAR ================= -->
  <nav class="sticky top-0 z-30 bg-white/80 backdrop-blur-md
              border-b shadow-sm">

    <div class="max-w-7xl mx-auto px-4">
      <ul class="flex justify-between md:justify-center md:gap-8
                 text-sm font-semibold text-slate-600">

        <li>
          <a href="/"
             class="nav-link {% if request.path == '/' %}active{% endif %}">
            ğŸ  Dashboard
          </a>
        </li>

        <li>
          <a href="/sites/"
             class="nav-link {% if '/sites' in request.path %}active{% endif %}">
            ğŸ— Sites
          </a>
        </li>


        <li>
          <a href="{% url 'reports' %}"
             class="nav-link {% if 'reports' in request.path %}active{% endif %}">
            ğŸ“Š Reports
          </a>
        </li>

        <li>
          <a href="{% url 'masters_and_payments' %}"
             class="nav-link {% if 'masters' in request.path %}active{% endif %}">
            ğŸ§© Masters
          </a>
        </li>
        


      </ul>
    </div>
  </nav>

  <!-- ================= CONTENT ================= -->
  <main class="flex-1 max-w-7xl mx-auto w-full p-5 animate-page">

    <div class="bg-white rounded-3xl shadow-lg
                p-6 min-h-[70vh]
                border border-slate-100">
      {% block content %}{% endblock %}
    </div>

  </main>

  <!-- ================= FOOTER ================= -->
  <footer class="bg-slate-900 text-gray-400
                 text-xs text-center py-4">
    Â© {{ now|date:"Y" }} Civil Management System
  </footer>

</body>
</html>

<!-- ================= NAV + ANIMATIONS ================= -->
<style>
  .nav-link {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 1rem 0.5rem;
    color: #475569;
    transition: color 0.2s ease;
  }

  .nav-link::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0%;
    height: 3px;
    background: linear-gradient(to right, #facc15, #f59e0b);
    transition: width 0.25s ease;
    border-radius: 999px;
  }

  .nav-link:hover {
    color: #92400e;
  }

  .nav-link:hover::after {
    width: 100%;
  }

  .nav-link.active {
    color: #92400e;
    font-weight: 700;
  }

  .nav-link.active::after {
    width: 100%;
  }

  /* Page animation */
  .animate-page {
    animation: pageIn 0.4s ease-out;
  }

  @keyframes pageIn {
    from {
      opacity: 0;
      transform: translateY(12px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
