{% extends "base.html" %}
{% block content %}

<h2 class="text-2xl font-bold mb-6 text-gray-800">
  ğŸ¢ Department Master
</h2>

<!-- ADD DEPARTMENT -->
<div class="bg-white rounded-xl shadow p-6 mb-6 max-w-xl">
  <h3 class="font-semibold mb-3 text-gray-700">
    â• Add New Department
  </h3>
  

  <form method="post" class="flex gap-2">
    {% csrf_token %}
    <input
      type="text"
      name="name"
      placeholder="Department name"
      required
      class="border p-2 flex-1 rounded focus:ring-2 focus:ring-blue-500"
    >

    <button
      class="bg-blue-600 hover:bg-blue-700 text-white px-4 rounded">
      Add
    </button>

    
  </form>
</div>

<!-- LIST DEPARTMENTS -->
<div class="bg-white rounded-xl shadow p-6 max-w-xl">
  <h3 class="font-semibold mb-3 text-gray-700">
    ğŸ“‹ Existing Departments
  </h3>

  {% if departments %}
    <ul class="divide-y">
      {% for d in departments %}
        <li class="py-2 flex justify-between items-center">
          <span class="font-medium">{{ d.name }}</span> <a href="{% url 'delete_department' d.id %}"
         onclick="return confirm('Delete {{ d.name }}?')"
         class="text-red-600 hover:underline">
        ğŸ—‘ Delete
      </a>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="text-gray-500 text-sm">No departments added yet</p>
  {% endif %}
</div>

{% endblock %}
